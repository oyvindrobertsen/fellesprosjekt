<html>
<head>
    <title>Apotychia</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="libs/bootstrap/dist/css/bootstrap.css" media="screen">
    <!-- Main css -->
    <link rel="stylesheet/less" href="css/app.less">
    <script src="libs/less/dist/less-1.7.0.js" type="text/javascript"></script>
</head>
<body>
<!-- Main container -->
<script type="text/x-handlebars">
<nav class="navbar nav navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#ap-nav-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Apotychia</a>
        </div>
        <div class="collapse navbar-collapse" id="ap-nav-collapse">
            <ul class="nav navbar-nav">
                <li>{{#link-to 'new'}}Legg til avtale{{/link-to}}</li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>{{#link-to 'me'}}Meg{{/link-to}}</li>
                <li><a href="/logout">Logg ut</a></li>
            </ul>
        </div>
    </div>
</nav>

    <div class="container-fluid" id="main-container">
        <row>
            {{outlet}}
        </row>
    </div>
</script>

<script type="text/x-handlebars" id="event">
    <!-- Calender view -->
    <div class="col-md-9 calender-panel">
        <table>
            {{#each model}}
                {{#if admin}}
                    <tr>
                        <td> {{#link-to 'edit' eventID}}<b>{{eventName}} </b> {{/link-to}}</td>
                    </tr>
                {{else}}
                    <tr>
                        <td> {{#link-to 'view' eventID}}<b>{{eventName}} </b> {{/link-to}}</td>
                    </tr>
                {{/if}}
            {{/each}}
        </table>
    </div>
    <div class="col-md-3 calender-panel">
        {{outlet}}
    </div>
</script>

<script type="text/x-handlebars" id="new">
    <form>
        <!-- Title -->
        <div class="form-group">
            {{input type="text" value=eventName class="form-control" placeholder="Tittel"}}
        </div>

        <!-- Description -->
        <div class="form-group">
            {{textarea value=description class="form-control" placeholder="Skriv en beskrivelse" rows="2"}}
        </div>

        <!-- Date -->
        <div class="form-group">
            {{input type="text" value=date class="form-control" placeholder="Dato: DD-MM-YYYY"}}
        </div>


        <!-- Time -->
        <div class="form-group">
            <div class="col-md-6 split-form-left">
                {{input type="text" value=startTime class="form-control" placeholder="Start: HH:MM"}}
            </div>
            <div class="col-md-6 split-form-right">
                {{input type="text" value=endTime class="form-control" placeholder="Slutt: HH:MM"}}
            </div>
        </div>

        <!-- Radio buttons -->
        <div class="form-group input-group btn-group btn-group-justified" data-toggle="buttons" style="padding-top: 15px;">
            <label class="btn btn-primary active" {{action "enablePlaceInput"}}>
                <input type="radio" name="place" id="placeoption"> Skriv sted
            </label>
            <label class="btn btn-primary" rel="popover" {{action "disablePlaceInput"}}>
                <input type="radio" name="place" id="roomoption"> Velg rom
                <div id="popover-content-wrapper" class="hide">
                    weeee
                </div>
            </label>
        </div>
        <div style="clear:both;"></div>
        <!-- Place -->
        <div class="form-group">
            <input class="form-control" type="text" id="placeinput" placeholder="Sted">
        </div>

        <div class="form-group">
            <table class="table">
                <thead>
                    <th>Deltakere</th>
                    <th>
                        <a href="#" rel="popover" data-content="" class="btn btn-primary btn-sm btn-block">Legg til deltaker</a>
                        <div id="popover-content-wrapper" class="hide">
                            <div class="form-group">
                                <div class="col-md-12">
                                    {{input type="text" placeholder="S&oslash;k etter person" class="form-control" value=searchTerm}}
                                </div>
                            </div>

                            <ul style="overflow: auto; max-height: 300px">
                                {{#each model.persons}}
                                <li class="list-unstyled">
                                    <label style="margin-left:-15px;">
                                        <input type="checkbox" name="add"> {{name}}
                                    </label>
                                </li>
                                {{/each}}
                            </ul>

                            <div class="form-group">
                                <div class="col-md-6">
                                    <button class="form-control btn btn-success btn-primary"> Legg til </button>
                                </div>
                                <div class="col-md-6">
                                    <button class="form-control btn btn-danger btn-primary"> Avbryt </button>
                                </div>
                            </div>
                        </div>
                    </th>
                </thead>
            </table>
            <div style="overflow: auto; max-height: 30%;">
                <table class="table">
                    <tbody>
                        {{#each model.members}}
                            <tr>
                                <td>{{name}}</td>
                                <td><a href="#" class="btn btn-danger btn-xs">Fjern</a></td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Save/delete buttons -->
        <div class="form-group">
            <button class="form-control btn btn-success btn-primary" {{action "save"}}> Lagre avtale </button>
        </div>
    </form>
</script>

<script type="text/x-handlebars" id="edit">
    <form>
        <!-- Title -->
        <div class="form-group">
            {{input type="text" value=model.eventName class="form-control" placeholder="Tittel"}}
        </div>

        <!-- Description -->
        <div class="form-group">
            {{textarea value=model.description class="form-control" placeholder="Skriv en beskrivelse" rows="2"}}
        </div>

        <!-- Date -->
        <div class="form-group">
            {{input type="text" value=date class="form-control" placeholder="Dato"}}
        </div>


        <!-- Time -->
        <div class="form-group">
            <div class="col-md-6 split-form-left">
                {{input type="text" value=startTime class="form-control" placeholder="Start tid"}}
            </div>
            <div class="col-md-6 split-form-right">
                {{input type="text" value=endTime class="form-control" placeholder="Slutt tid"}}
            </div>
        </div>

        <!-- Radio button place -->
        <div class="form-group input-group btn-group btn-group-justified" data-toggle="buttons" style="padding-top: 15px;">
            <label class="btn btn-primary active">
                <input type="radio" name="place" id="placeoption"> Skriv sted
            </label>
            <label class="btn btn-primary" rel="popover">
                <input type="radio" name="place" id="placeoption" checked> Skriv rom
                <div id="popover-content-wrapper" class="hide">
                    weeee
                </div>

            </label>
        </div>
        <div style="clear:both;"></div>
        <!-- Place -->
        <div class="form-group">
            <input class="form-control" type="text" placeholder="Sted"
        </div>

        <div class="form-group">
            <table class="table">
                <thead>
                    <th>Deltakere</th>
                    <th>
                        <a href="#" rel="popover" data-content="" class="btn btn-primary btn-sm btn-block">Legg til deltaker</a>
                        <div id="popover-content-wrapper" class="hide">
                            <div class="form-group">
                                <div class="col-md-12">
                                    {{input type="text" placeholder="S&oslash;k etter person" class="form-control" value=searchTerm}}
                                </div>
                            </div>

                            <ul style="overflow: auto; max-height: 300px">
                                {{#each model.persons}}
                                <li class="list-unstyled">
                                    <label style="margin-left:-15px;">
                                        <input type="checkbox" name="add"> {{name}}
                                    </label>
                                </li>
                                {{/each}}
                            </ul>

                            <div class="form-group">
                                <div class="col-md-6">
                                    <a class="form-control btn btn-success btn-primary">Legg til</a>
                                </div>
                                <div class="col-md-6">
                                    <a class="form-control btn btn-danger btn-primary">Avbryt</a>
                                </div>
                            </div>
                        </div>
                    </th>
                </thead>
            </table>
            <div style="overflow: auto; max-height: 30%;">
                <table class="table">
                    <tbody>
                        {{#each model.members}}
                            <tr>
                                <td>{{name}}</td>
                                <td><a class="btn btn-danger btn-xs">Fjern</a></td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Save/delete buttons -->
        <div class="form-group buttons">
            <div class="col-md-6 split-form-left">
                <button class="form-control btn btn-success btn-primary" {{action "slett"}}> Lagre avtale </button>
            </div>
            <div class="col-md-6 split-form-right">
                <button class="form-control btn btn-danger btn-primary" {{action "delete"}}> Slett avtale </button>
            </div>
        </div>
    </form>
</script>

<script type="text/x-handlebars" id="view">
    <h1>{{model.eventName}}</h1>

    <strong>Start:</strong> {{model.startTime}}<br/>

    <strong>Slutt:</strong> {{model.endTime}}<br/>

    <div class="well">{{model.description}}</div>

    <strong>Deltakere:</strong><br/>
    {{#each model.attending}}
        {{username}}
    {{/each}}

    <!-- attend -->
    <div class="form-group buttons">
        <div class="col-md-6 split-form-left">
            <button class="form-control btn btn-success btn-primary"> Delta </button>
        </div>
        <div class="col-md-6 split-form-right">
            <button class="form-control btn btn-danger btn-primary"> Avsl&aring; </button>
        </div>
    </div>
</script>

<!-- Testing-->
<script type="text/x-handlebars" id="me">
    <div class="col-md-9">
        <h1>{{firstName}} {{lastName}}</h1>
        <p class="lead">{{email}}</p>
    </div>
</script>

<!-- End main container -->

<!-- Include JS here -->
<!-- Libraries -->
<script src="libs/jquery/dist/jquery.js"></script>
<script src="libs/bootstrap/dist/js/bootstrap.js"></script>
<script src="libs/handlebars/handlebars.js"></script>
<script src="libs/ember/ember.js"></script>
<!--<script src="libs/ember-data/ember-data.js"></script>-->

<!-- Application code -->
<script src="js/app.js"></script>

</body>
</html>